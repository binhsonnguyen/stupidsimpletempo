<!-- src/lib/components/time-notation-selector/TimeNotationSelector.svelte -->
<script lang="ts">
	import { metronomeStore, type BeatInterval } from '$lib/state/metronomeStore';
	import TimeNotationFilmStrip from './TimeNotationFilmStrip.svelte';
	import type { BeatIntervalOption } from './TimeNotationFilmStrip.svelte';

	const BEAT_INTERVAL_OPTIONS: BeatIntervalOption[] = [
		{ label: 'âš¬', value: '1m', description: 'Whole Note (Ná»‘t trÃ²n)', symbol: 'âš¬' },
		{ label: 'Â½', value: '2n', description: 'Half Note (Ná»‘t tráº¯ng)', symbol: 'ğ…' },
		{ label: 'Â¼', value: '4n', description: 'Quarter Note (Ná»‘t Ä‘en)', symbol: 'ğ…Ÿ' },
		{ label: 'â…›', value: '8n', description: 'Eighth Note (Ná»‘t mÃ³c Ä‘Æ¡n)', symbol: 'ğ… ' },
		{ label: 'Â¹â„â‚â‚†', value: '16n', description: 'Sixteenth Note (Ná»‘t mÃ³c kÃ©p)', symbol: 'ğ…¡' },
		{ label: 'â…›Â³', value: '8t', description: 'Eighth Triplet (ChÃ¹m ba)', symbol: 'ğ… Â³' }
	];

	function handleSelectionChange(event: CustomEvent<BeatInterval>) {
		metronomeStore.setBeatInterval(event.detail);
	}
</script>

<div class="notation-wrapper">
	<TimeNotationFilmStrip
		options={BEAT_INTERVAL_OPTIONS}
		initialValue={$metronomeStore.beatInterval}
		on:change={handleSelectionChange}
	/>
</div>

<style>
    .notation-wrapper {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
    }
</style>